<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="468.11411mm"
   height="257.29797mm"
   viewBox="0 0 1658.672 911.68573"
   id="svg2"
   version="1.1"
   inkscape:version="0.91 r13725"
   sodipodi:docname="new delete expression.svg">
  <defs
     id="defs4" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1"
     inkscape:cx="886.38541"
     inkscape:cy="587.25482"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     inkscape:window-width="1280"
     inkscape:window-height="919"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     fit-margin-top="10"
     fit-margin-left="10"
     fit-margin-right="10"
     fit-margin-bottom="10" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(27.846218,30.885647)">
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:25px;line-height:125%;font-family:sans-serif;text-align:start;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="7.586853"
       y="22.223206"
       id="text3336"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3338"
         x="7.586853"
         y="22.223206"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">[new expression]</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="53.473206"
         id="tspan3340"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan3368">new</tspan>(<tspan
   style="fill:#808080;fill-opacity:1"
   id="tspan4234">args</tspan>) <tspan
   style="fill:#2b90c0;fill-opacity:1"
   id="tspan4170">type</tspan><tspan
   style="fill:#808080;fill-opacity:1"
   id="tspan4176"> initializer</tspan> {</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="84.723206"
         id="tspan3342"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">    ptr = <tspan
   style="fill:#0000ff"
   id="tspan4204">operator new</tspan>(<tspan
   style="fill:#0000ff"
   id="tspan4208">sizeof</tspan>(type), args);</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="115.97321"
         id="tspan3344"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4210">    try</tspan> {</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="147.22321"
         id="tspan3346"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4214">        if</tspan> (ptr) <tspan
   style="fill:#008000"
   id="tspan4202">// &lt;-- only for noexcept operator new</tspan></tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="178.47321"
         id="tspan3348"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">            constructs object at ptr with <tspan
   style="fill:#808080;fill-opacity:1"
   id="tspan4218">initializer</tspan>;</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="209.72321"
         id="tspan3350"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4216">        return</tspan> ptr;</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="240.97321"
         id="tspan3352"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">    }</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="272.22321"
         id="tspan3354"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4212">    catch</tspan> (...) {</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="303.47321"
         id="tspan3356"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4228">        operator delete</tspan>(ptr, <tspan
   style="fill:#808080;fill-opacity:1"
   id="tspan4244">args</tspan>);</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="334.72321"
         id="tspan3358"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4232">        throw</tspan>;</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="365.97321"
         id="tspan3360"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">    }</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="397.22321"
         id="tspan3364"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">}</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:25px;line-height:125%;font-family:sans-serif;text-align:start;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="7.586853"
       y="465.36218"
       id="text4254"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4256"
         x="7.586853"
         y="465.36218"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">[delete expression]</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="496.61218"
         id="tspan4258"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4282">delete</tspan>(<tspan
   style="fill:#808080"
   id="tspan4284">args</tspan>) <tspan
   style="fill:#808080"
   id="tspan4288">ptr</tspan> {</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="527.86218"
         id="tspan4260"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4302">    try</tspan> {</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="559.11218"
         id="tspan4262"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4304">        if</tspan> (<tspan
   style="fill:#808080"
   id="tspan4290">ptr</tspan>) {</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="590.36218"
         id="tspan4264"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">            destructs object at <tspan
   style="fill:#808080"
   id="tspan4292">ptr</tspan>;</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="621.61218"
         id="tspan4266"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4306">            operator delete</tspan>(<tspan
   style="fill:#808080"
   id="tspan4294">ptr</tspan>, <tspan
   style="fill:#808080"
   id="tspan4296">args</tspan>);</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="652.86218"
         id="tspan4268"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">        }</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="684.11218"
         id="tspan4270"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">    }</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="715.36218"
         id="tspan4272"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4310">    catch</tspan> (...) {</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="746.61218"
         id="tspan4274"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4312">        operator delete</tspan>(<tspan
   style="fill:#808080"
   id="tspan4298">ptr</tspan>, <tspan
   style="fill:#808080"
   id="tspan4300">args</tspan>);</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="777.86218"
         id="tspan4276"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4316">        throw</tspan>;</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="809.11218"
         id="tspan4278"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">    }</tspan><tspan
         sodipodi:role="line"
         x="7.586853"
         y="840.36218"
         id="tspan4280"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">}</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:25px;line-height:125%;font-family:sans-serif;text-align:start;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="798"
       y="21.942444"
       id="text4318"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4320"
         x="798"
         y="21.942444"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4330">operator new</tspan>'s behavior on failure:</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="53.192444"
         id="tspan4322"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"> • <tspan
   style="fill:#0000ff"
   id="tspan4332">noexcept</tspan>: return <tspan
   style="fill:#0000ff"
   id="tspan4326">nullptr</tspan></tspan><tspan
         sodipodi:role="line"
         x="798"
         y="84.442444"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"
         id="tspan4324">    -&gt; new expression must check <tspan
   style="fill:#0000ff"
   id="tspan4344">nullptr</tspan></tspan><tspan
         sodipodi:role="line"
         x="798"
         y="115.69244"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"
         id="tspan4336"> • otherwise: <tspan
   style="fill:#0000ff"
   id="tspan3437">throw</tspan> std::<tspan
   style="fill:#2b90c0;fill-opacity:1"
   id="tspan4334">bad_alloc</tspan></tspan><tspan
         sodipodi:role="line"
         x="798"
         y="146.94244"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"
         id="tspan4342">    -&gt; new expression doesn't need to check <tspan
   style="fill:#0000ff"
   id="tspan4346">nullptr</tspan></tspan><tspan
         sodipodi:role="line"
         x="798"
         y="178.19244"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"
         id="tspan4348" /><tspan
         sodipodi:role="line"
         x="798"
         y="209.44244"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"
         id="tspan4352"><tspan
   style="font-style:italic"
   id="tspan4366">note</tspan>: default <tspan
   style="fill:#0000ff"
   id="tspan4368">operator new</tspan> implementation's behavior when </tspan><tspan
         sodipodi:role="line"
         x="798"
         y="240.69244"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"
         id="tspan4364">allocation fails can be changed using std::set_new_handler</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:25px;line-height:125%;font-family:sans-serif;text-align:start;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="798"
       y="465.86267"
       id="text4398"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4400"
         x="798"
         y="465.86267"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">default_operator_new(<tspan
   style="fill:#808080"
   id="tspan4430">size</tspan>) {</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="497.11267"
         id="tspan4402"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4426">    while</tspan> ((ptr = std::malloc(<tspan
   style="fill:#808080"
   id="tspan4432">size</tspan>)) == <tspan
   style="fill:#0000ff"
   id="tspan4428">nullptr</tspan>) {</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="528.36267"
         id="tspan4404"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4436">        if</tspan> (handler = std::get_new_handler()) {</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="559.61267"
         id="tspan4406"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">             handler();</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="590.86267"
         id="tspan4408"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">        }</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="622.11267"
         id="tspan4410"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4438">        else</tspan> {</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="653.36267"
         id="tspan4412"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4442">            throw</tspan> std::<tspan
   style="fill:#2b90c0;fill-opacity:1"
   id="tspan4434">bad_alloc</tspan>(...);</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="684.61267"
         id="tspan4414"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">        }</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="715.86267"
         id="tspan4416"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">    }</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="747.11267"
         id="tspan4418"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas"><tspan
   style="fill:#0000ff"
   id="tspan4440">    return</tspan> ptr;</tspan><tspan
         sodipodi:role="line"
         x="798"
         y="778.36267"
         id="tspan4422"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Consolas;-inkscape-font-specification:Consolas">}</tspan></text>
  </g>
</svg>
